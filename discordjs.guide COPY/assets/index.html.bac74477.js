import{r as n,o as e,c as s,a,b as l,w as o,F as i,d as t,f as r}from"./app.554c1b80.js";const p={},c=a("h1",{id:"introduction",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#introduction","aria-hidden":"true"},"#"),t(" Introduction")],-1),u=t('"Voice" refers to Discord bots being able to send audio in voice channels. This is supported in discord.js via '),d={href:"https://github.com/discordjs/voice",target:"_blank",rel:"noopener noreferrer"},b=t("@discordjs/voice"),m=t(", a standalone library made by the developers of discord.js. While you can use it with any Node.js Discord API library, this guide will focus on using it with discord.js."),h=a("h2",{id:"installation",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#installation","aria-hidden":"true"},"#"),t(" Installation")],-1),f=a("h3",{id:"barebones",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#barebones","aria-hidden":"true"},"#"),t(" Barebones")],-1),g=a("p",null,[t("To add voice functionality to your discord.js bot, you will need the "),a("code",null,"@discordjs/voice"),t(" package, as well as one of the encryption packages listed below. For example:")],-1),y=a("div",{class:"language-bash ext-sh"},[a("pre",{class:"language-bash"},[a("code",null,[a("span",{class:"token function"},"npm"),t(),a("span",{class:"token function"},"install"),t(" @discordjs/voice libsodium-wrappers\n")])])],-1),k=a("div",{class:"language-bash ext-sh"},[a("pre",{class:"language-bash"},[a("code",null,[a("span",{class:"token function"},"yarn"),t(),a("span",{class:"token function"},"add"),t(" @discordjs/voice libsodium-wrappers\n")])])],-1),w=a("div",{class:"language-bash ext-sh"},[a("pre",{class:"language-bash"},[a("code",null,[a("span",{class:"token function"},"pnpm"),t(),a("span",{class:"token function"},"add"),t(" @discordjs/voice libsodium-wrappers\n")])])],-1),v=a("p",null,"After this, you'll be able to play Ogg and WebM Opus files without any other dependencies. If you want to play audio from other sources, or want to improve performance, consider installing some of the extra dependencies listed below.",-1),j=a("div",{class:"custom-container warning"},[a("p",{class:"custom-container-title"},"WARNING"),a("p",null,"This guide assumes you have installed at least one additional dependency – FFmpeg. More information on this can be found in the section below.")],-1),x=a("h3",{id:"extra-dependencies",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#extra-dependencies","aria-hidden":"true"},"#"),t(" Extra Dependencies")],-1),_=t("An Opus encoding library "),F={href:"https://github.com/discordjs/opus",target:"_blank",rel:"noopener noreferrer"},I=a("code",null,"@discordjs/opus",-1),D=t(" (best performance)"),O={href:"https://github.com/abalabahaha/opusscript/",target:"_blank",rel:"noopener noreferrer"},T=a("code",null,"opusscript",-1),L=t("FFmpeg – allows you to play a range of media (e.g. MP3s). "),A={href:"https://ffmpeg.org/",target:"_blank",rel:"noopener noreferrer"},C=a("code",null,"ffmpeg",-1),E=t(" - install and add to your system environment"),W={href:"https://www.npmjs.com/package/ffmpeg-static",target:"_blank",rel:"noopener noreferrer"},G=a("code",null,"ffmpeg-static",-1),M=t(" - to install FFmpeg via npm"),N=t("Encryption packages "),P={href:"https://www.npmjs.com/package/sodium",target:"_blank",rel:"noopener noreferrer"},R=a("code",null,"sodium",-1),q=t(" (best performance)"),B={href:"https://www.npmjs.com/package/libsodium-wrappers",target:"_blank",rel:"noopener noreferrer"},V=a("code",null,"libsodium-wrappers",-1),Y={href:"https://www.npmjs.com/package/tweetnacl",target:"_blank",rel:"noopener noreferrer"},z=a("code",null,"tweetnacl",-1),H={class:"custom-container tip"},J=a("p",{class:"custom-container-title"},"TIP",-1),K=a("p",null,[t("Outside a development environment, it is recommended for you to use "),a("code",null,"@discordjs/opus"),t(" and "),a("code",null,"sodium"),t(" to improve performance and improve the stability of audio playback!")],-1),Q=a("p",null,"If you're struggling to install these dependencies, make sure you have build tools installed first. On Windows, this is as easy as running the following command!",-1),S=a("div",{class:"language-bash ext-sh"},[a("pre",{class:"language-bash"},[a("code",null,[a("span",{class:"token function"},"npm"),t(),a("span",{class:"token function"},"install"),t(" --global --production --add-python-to-path windows-build-tools\n")])])],-1),U=a("div",{class:"language-bash ext-sh"},[a("pre",{class:"language-bash"},[a("code",null,[a("span",{class:"token function"},"yarn"),t(" global "),a("span",{class:"token function"},"add"),t(" --production --add-python-to-path windows-build-tools\n")])])],-1),X=a("div",{class:"language-bash ext-sh"},[a("pre",{class:"language-bash"},[a("code",null,[a("span",{class:"token function"},"pnpm"),t(),a("span",{class:"token function"},"add"),t(" --global --production --add-python-to-path windows-build-tools\n")])])],-1),Z=r('<h2 id="debugging-dependencies" tabindex="-1"><a class="header-anchor" href="#debugging-dependencies" aria-hidden="true">#</a> Debugging Dependencies</h2><p>The library includes a helper function that helps you to find out which dependencies you&#39;ve successfully installed. This information is also very helpful if you ever need to submit an issue on the <code>@discordjs/voice</code> issue tracker.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> generateDependencyReport <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@discordjs/voice&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">generateDependencyReport</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">/*\n--------------------------------------------------\nCore Dependencies\n- @discordjs/voice: 0.3.1\n- prism-media: 1.2.9\n\nOpus Libraries\n- @discordjs/opus: 0.5.3\n- opusscript: not found\n\nEncryption Libraries\n- sodium: 3.0.2\n- libsodium-wrappers: not found\n- tweetnacl: not found\n\nFFmpeg\n- version: 4.2.4-1ubuntu0.1\n- libopus: yes\n--------------------------------------------------\n*/</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><ul><li><strong>Core Dependencies</strong><ul><li>These are dependencies that should definitely be available.</li></ul></li><li><strong>Opus Libraries</strong><ul><li>If you want to play audio from many different file types, or alter volume in real-time, you will need to have one of these.</li></ul></li><li><strong>Encryption Libraries</strong><ul><li>You should have at least one encryption library installed to use <code>@discordjs/voice</code>.</li></ul></li><li><strong>FFmpeg</strong><ul><li>If you want to play audio from many different file types, you will need to have FFmpeg installed.</li><li>If <code>libopus</code> is enabled, you will be able to benefit from increased performance if real-time volume alteration is disabled.</li></ul></li></ul>',4);p.render=function(t,r){const p=n("OutboundLink"),$=n("CodeGroupItem"),nn=n("CodeGroup");return e(),s(i,null,[c,a("p",null,[u,a("a",d,[b,l(p)]),m]),h,f,g,l(nn,null,{default:o((()=>[l($,{title:"npm"},{default:o((()=>[y])),_:1}),l($,{title:"yarn"},{default:o((()=>[k])),_:1}),l($,{title:"pnpm"},{default:o((()=>[w])),_:1})])),_:1}),v,j,x,a("ul",null,[a("li",null,[_,a("ul",null,[a("li",null,[a("a",F,[I,l(p)]),D]),a("li",null,[a("a",O,[T,l(p)])])])]),a("li",null,[L,a("ul",null,[a("li",null,[a("a",A,[C,l(p)]),E]),a("li",null,[a("a",W,[G,l(p)]),M])])]),a("li",null,[N,a("ul",null,[a("li",null,[a("a",P,[R,l(p)]),q]),a("li",null,[a("a",B,[V,l(p)])]),a("li",null,[a("a",Y,[z,l(p)])])])])]),a("div",H,[J,K,Q,l(nn,null,{default:o((()=>[l($,{title:"npm"},{default:o((()=>[S])),_:1}),l($,{title:"yarn"},{default:o((()=>[U])),_:1}),l($,{title:"pnpm"},{default:o((()=>[X])),_:1})])),_:1})]),Z],64)};export{p as default};
