import{r as n,o as s,c as a,a as t,b as e,w as o,F as c,d as l}from"./app.554c1b80.js";const i={},p=t("h1",{id:"image-manipulation-with-canvas",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#image-manipulation-with-canvas","aria-hidden":"true"},"#"),l(" Image manipulation with Canvas")],-1),u=t("h2",{id:"setting-up-canvas",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#setting-up-canvas","aria-hidden":"true"},"#"),l(" Setting up Canvas")],-1),r=t("p",null,"Canvas is an image manipulation tool that allows you to modify images with code. We'll explore how to use this module in a slash command to make a profile command. But first, you must go through the intense labor of installing Canvas. It's highly recommended that you use a Linux distribution for this because it'll be much easier to install on.",-1),k=t("div",{class:"custom-container tip"},[t("p",{class:"custom-container-title"},"TIP"),t("p",null,[l("This guide is last tested with "),t("code",null,"canvas^2.6.0"),l(", so make sure you have this or a similar version after installation.")])],-1),h={class:"custom-container warning"},m=t("p",{class:"custom-container-title"},"WARNING",-1),d=l("Be sure that you're familiar with things like "),b=l("async/await"),g=l(" and "),f=l("object destructuring"),v=l(" before continuing, as we'll be making use of features like these."),w=t("h2",{id:"installation",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#installation","aria-hidden":"true"},"#"),l(" Installation")],-1),y=t("h3",{id:"windows",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#windows","aria-hidden":"true"},"#"),l(" Windows")],-1),x=t("p",null,"You will need a package called Windows Build Tools. To install this, open Powershell as Administrator. You then can install it with your preferred package manager. It is also bundled with Chocolatey, should you choose that installation path.",-1),C=t("div",{class:"language-bash ext-sh"},[t("pre",{class:"language-bash"},[t("code",null,[t("span",{class:"token function"},"npm"),l(),t("span",{class:"token function"},"install"),l(" --global --production windows-build-tools\n")])])],-1),j=t("div",{class:"language-bash ext-sh"},[t("pre",{class:"language-bash"},[t("code",null,[t("span",{class:"token function"},"yarn"),l(" global "),t("span",{class:"token function"},"add"),l(" --production windows-build-tools\n")])])],-1),I=t("div",{class:"language-bash ext-sh"},[t("pre",{class:"language-bash"},[t("code",null,[t("span",{class:"token function"},"pnpm"),l(),t("span",{class:"token function"},"add"),l(" --global --production windows-build-tools\n")])])],-1),A=t("div",{class:"language-bash ext-sh"},[t("pre",{class:"language-bash"},[t("code",null,[l("choco "),t("span",{class:"token function"},"install"),l(" -y python2 gtk-runtime microsoft-build-tools libjpeg-turbo\n")])])],-1),T=l("Afterward, you should follow the instructions detailed "),_={href:"https://github.com/Automattic/node-canvas/wiki/Installation:-Windows",target:"_blank",rel:"noopener noreferrer"},S=l("here"),R=l(". Additionally, make sure Node and Cairo are "),N=t("strong",null,"both",-1),P=l(" either 32-bit or 64-bit; having a 32-bit version of one and a 64-bit version of the other will cause errors."),L=l("If you are "),W=t("em",null,"still",-1),M=l(" unable to install Canvas, you might want to consider installing "),B={href:"https://www.visualstudio.com/vs/older-downloads/",target:"_blank",rel:"noopener noreferrer"},z=l("Microsoft Visual Studio 2015"),Y=l("."),q=t("h3",{id:"other-distributions",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#other-distributions","aria-hidden":"true"},"#"),l(" Other distributions")],-1),D=l("You can run one of the commands listed "),G={href:"https://github.com/Automattic/node-canvas#compiling",target:"_blank",rel:"noopener noreferrer"},U=l("here"),F=l(" to install the necessary tools Canvas needs."),H=t("h3",{id:"package-installation",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#package-installation","aria-hidden":"true"},"#"),l(" Package installation")],-1),O=t("p",null,"After installing all the necessary software, run the following command in your terminal:",-1),$=t("div",{class:"language-bash ext-sh"},[t("pre",{class:"language-bash"},[t("code",null,[t("span",{class:"token function"},"npm"),l(),t("span",{class:"token function"},"install"),l(" canvas\n")])])],-1),E=t("div",{class:"language-bash ext-sh"},[t("pre",{class:"language-bash"},[t("code",null,[t("span",{class:"token function"},"yarn"),l(),t("span",{class:"token function"},"add"),l(" canvas\n")])])],-1),V=t("div",{class:"language-bash ext-sh"},[t("pre",{class:"language-bash"},[t("code",null,[t("span",{class:"token function"},"pnpm"),l(),t("span",{class:"token function"},"add"),l(" canvas\n")])])],-1),J=t("h2",{id:"getting-started",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#getting-started","aria-hidden":"true"},"#"),l(" Getting started")],-1),K=t("p",null,"Here is the base code you'll be using to get started:",-1),Q=t("div",{class:"language-javascript ext-js line-numbers-mode"},[t("pre",{class:"language-javascript"},[t("code",null,[t("span",{class:"token keyword"},"const"),l(),t("span",{class:"token punctuation"},"{"),l(" Client"),t("span",{class:"token punctuation"},","),l(" Intents"),t("span",{class:"token punctuation"},","),l(" MessageAttachment "),t("span",{class:"token punctuation"},"}"),l(),t("span",{class:"token operator"},"="),l(),t("span",{class:"token function"},"require"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'discord.js'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n"),t("span",{class:"token keyword"},"const"),l(" Canvas "),t("span",{class:"token operator"},"="),l(),t("span",{class:"token function"},"require"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'canvas'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\n"),t("span",{class:"token keyword"},"const"),l(" client "),t("span",{class:"token operator"},"="),l(),t("span",{class:"token keyword"},"new"),l(),t("span",{class:"token class-name"},"Client"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),l(" intents"),t("span",{class:"token operator"},":"),l(),t("span",{class:"token punctuation"},"["),l("Intents"),t("span",{class:"token punctuation"},"."),t("span",{class:"token constant"},"FLAGS"),t("span",{class:"token punctuation"},"."),t("span",{class:"token constant"},"GUILDS"),t("span",{class:"token punctuation"},"]"),l(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\nclient"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"once"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'ready'"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),l(),t("span",{class:"token operator"},"=>"),l(),t("span",{class:"token punctuation"},"{"),l("\n\tconsole"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'Ready!'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\nclient"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"on"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'interactionCreate'"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token parameter"},"interaction"),l(),t("span",{class:"token operator"},"=>"),l(),t("span",{class:"token punctuation"},"{"),l("\n\t"),t("span",{class:"token keyword"},"if"),l(),t("span",{class:"token punctuation"},"("),t("span",{class:"token operator"},"!"),l("interaction"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"isCommand"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},")"),l(),t("span",{class:"token keyword"},"return"),t("span",{class:"token punctuation"},";"),l("\n\n\t"),t("span",{class:"token keyword"},"if"),l(),t("span",{class:"token punctuation"},"("),l("interaction"),t("span",{class:"token punctuation"},"."),l("commandName "),t("span",{class:"token operator"},"==="),l(),t("span",{class:"token string"},"'profile'"),t("span",{class:"token punctuation"},")"),l(),t("span",{class:"token punctuation"},"{"),l("\n\t\t"),t("span",{class:"token comment"},"// ..."),l("\n\t"),t("span",{class:"token punctuation"},"}"),l("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\nclient"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"login"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'your-token-goes-here'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br"),t("span",{class:"line-number"},"15"),t("br"),t("span",{class:"line-number"},"16"),t("br"),t("span",{class:"line-number"},"17"),t("br"),t("span",{class:"line-number"},"18"),t("br")])],-1),X={class:"custom-container warning"},Z=t("p",{class:"custom-container-title"},"WARNING",-1),nn=l("Remember to register the slash commands before continuing on with this section of the guide. You can view how to do that "),sn=l("here"),an=l("."),tn=t("h3",{id:"basic-image-loading",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#basic-image-loading","aria-hidden":"true"},"#"),l(" Basic image loading")],-1),en=t("p",null,"The end goal will be to display the user's avatar and nickname.",-1),on=t("p",null,[l("After importing the Canvas module and initializing it, you should load the images. With Canvas, you have to specify where the image comes from first, naturally, and then specify how it gets loaded into the actual Canvas using "),t("code",null,"context"),l(", which you will use to interact with Canvas.")],-1),cn={class:"custom-container tip"},ln=t("p",{class:"custom-container-title"},"TIP",-1),pn=t("code",null,"canvas",-1),un=l(" works almost identical to HTML5 Canvas. You can read the HTML5 Canvas tutorials on "),rn={href:"https://www.w3schools.com/html/html5_canvas.asp",target:"_blank",rel:"noopener noreferrer"},kn=l("w3Schools"),hn=l(" and "),mn={href:"https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API",target:"_blank",rel:"noopener noreferrer"},dn=l("MDN"),bn=l(" for more information later!"),gn=t("div",{class:"language-javascript ext-js line-numbers-mode"},[t("pre",{class:"language-javascript"},[t("code",null,[l("client"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"on"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'interactionCreate'"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token keyword"},"async"),l(),t("span",{class:"token parameter"},"interaction"),l(),t("span",{class:"token operator"},"=>"),l(),t("span",{class:"token punctuation"},"{"),l("\n\t"),t("span",{class:"token keyword"},"if"),l(),t("span",{class:"token punctuation"},"("),t("span",{class:"token operator"},"!"),l("interaction"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"isCommand"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},")"),l(),t("span",{class:"token keyword"},"return"),t("span",{class:"token punctuation"},";"),l("\n\n\t"),t("span",{class:"token keyword"},"if"),l(),t("span",{class:"token punctuation"},"("),l("interaction"),t("span",{class:"token punctuation"},"."),l("commandName "),t("span",{class:"token operator"},"==="),l(),t("span",{class:"token string"},"'profile'"),t("span",{class:"token punctuation"},")"),l(),t("span",{class:"token punctuation"},"{"),l("\n\t\t"),t("span",{class:"token comment"},"// Create a 700x250 pixel canvas and get its context"),l("\n\t\t"),t("span",{class:"token comment"},"// The context will be used to modify the canvas"),l("\n\t\t"),t("span",{class:"token keyword"},"const"),l(" canvas "),t("span",{class:"token operator"},"="),l(" Canvas"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"createCanvas"),t("span",{class:"token punctuation"},"("),t("span",{class:"token number"},"700"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token number"},"250"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\t\t"),t("span",{class:"token keyword"},"const"),l(" context "),t("span",{class:"token operator"},"="),l(" canvas"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"getContext"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'2d'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\t\t"),t("span",{class:"token comment"},"// ..."),l("\n\t"),t("span",{class:"token punctuation"},"}"),l("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n")])]),t("div",{class:"highlight-lines"},[t("br"),t("br"),t("br"),t("br"),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("br"),t("br"),t("br")]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br")])],-1),fn=l("Now, you need to load the image you want to use into Canvas. You can use "),vn=t("code",null,"node-canvas",-1),wn=l("'s "),yn={href:"https://github.com/Automattic/node-canvas#loadimage",target:"_blank",rel:"noopener noreferrer"},xn=t("code",null,"loadImage()",-1),Cn=l(" utility method"),jn=l(" to load images from local directories or URLs."),In=l("We'll be using "),An={href:"https://github.com/discordjs/guide/blob/main/guide/popular-topics/images/canvas.jpg",target:"_blank",rel:"noopener noreferrer"},Tn=l("this image"),_n=l(" as the background in the welcome image, but you can use whatever you want. Be sure to download the file, name it "),Sn=t("code",null,"wallpaper.jpg",-1),Rn=l(", and save it inside the same directory as your main bot file."),Nn=t("div",{class:"language-javascript ext-js line-numbers-mode"},[t("pre",{class:"language-javascript"},[t("code",null,[l("client"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"on"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'interactionCreate'"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token keyword"},"async"),l(),t("span",{class:"token parameter"},"interaction"),l(),t("span",{class:"token operator"},"=>"),l(),t("span",{class:"token punctuation"},"{"),l("\n\t"),t("span",{class:"token comment"},"// ..."),l("\n\t"),t("span",{class:"token keyword"},"const"),l(" context "),t("span",{class:"token operator"},"="),l(" canvas"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"getContext"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'2d'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\n\t"),t("span",{class:"token keyword"},"const"),l(" background "),t("span",{class:"token operator"},"="),l(),t("span",{class:"token keyword"},"await"),l(" Canvas"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"loadImage"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'./wallpaper.jpg'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\n\t"),t("span",{class:"token comment"},"// This uses the canvas dimensions to stretch the image onto the entire canvas"),l("\n\tcontext"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"drawImage"),t("span",{class:"token punctuation"},"("),l("background"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},","),l(" canvas"),t("span",{class:"token punctuation"},"."),l("width"),t("span",{class:"token punctuation"},","),l(" canvas"),t("span",{class:"token punctuation"},"."),l("height"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\n\t"),t("span",{class:"token comment"},"// Use the helpful Attachment class structure to process the file for you"),l("\n\t"),t("span",{class:"token keyword"},"const"),l(" attachment "),t("span",{class:"token operator"},"="),l(),t("span",{class:"token keyword"},"new"),l(),t("span",{class:"token class-name"},"MessageAttachment"),t("span",{class:"token punctuation"},"("),l("canvas"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"toBuffer"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token string"},"'profile-image.png'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\n\tinteraction"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"reply"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),l(" files"),t("span",{class:"token operator"},":"),l(),t("span",{class:"token punctuation"},"["),l("attachment"),t("span",{class:"token punctuation"},"]"),l(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n")])]),t("div",{class:"highlight-lines"},[t("br"),t("br"),t("br"),t("br"),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("br")]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br")])],-1),Pn=t("p",null,[t("img",{src:"/assets/canvas-preview.30c4fe9e.png",alt:"Basic canvas preview"})],-1),Ln=t("div",{class:"custom-container tip"},[t("p",{class:"custom-container-title"},"TIP"),t("p",null,[l("If you get an error such as "),t("code",null,"Error: error while reading from input stream"),l(", then the file's provided path was incorrect.")])],-1),Wn=t("h3",{id:"manipulating-images",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#manipulating-images","aria-hidden":"true"},"#"),l(" Manipulating images")],-1),Mn=t("p",null,"Next, let's place a border around the image for the sake of demonstration purposes.",-1),Bn=t("div",{class:"language-javascript ext-js line-numbers-mode"},[t("pre",{class:"language-javascript"},[t("code",null,[l("client"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"on"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'interactionCreate'"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token keyword"},"async"),l(),t("span",{class:"token parameter"},"interaction"),l(),t("span",{class:"token operator"},"=>"),l(),t("span",{class:"token punctuation"},"{"),l("\n\t"),t("span",{class:"token comment"},"// ..."),l("\n\tcontext"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"drawImage"),t("span",{class:"token punctuation"},"("),l("background"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},","),l(" canvas"),t("span",{class:"token punctuation"},"."),l("width"),t("span",{class:"token punctuation"},","),l(" canvas"),t("span",{class:"token punctuation"},"."),l("height"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\n\t"),t("span",{class:"token comment"},"// Set the color of the stroke"),l("\n\tcontext"),t("span",{class:"token punctuation"},"."),l("strokeStyle "),t("span",{class:"token operator"},"="),l(),t("span",{class:"token string"},"'#0099ff'"),t("span",{class:"token punctuation"},";"),l("\n\n\t"),t("span",{class:"token comment"},"// Draw a rectangle with the dimensions of the entire canvas"),l("\n\tcontext"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"strokeRect"),t("span",{class:"token punctuation"},"("),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},","),l(" canvas"),t("span",{class:"token punctuation"},"."),l("width"),t("span",{class:"token punctuation"},","),l(" canvas"),t("span",{class:"token punctuation"},"."),l("height"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\t"),t("span",{class:"token comment"},"// ..."),l("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n")])]),t("div",{class:"highlight-lines"},[t("br"),t("br"),t("br"),t("br"),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("br"),t("br")]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br")])],-1),zn=t("p",null,[t("img",{src:"/assets/canvas-plain.078bfbd1.png",alt:"Image"})],-1),Yn=t("p",null,"A bit plain, right? Fear not, for you have a bit more to do until you reach completion. Since this guide page's goal is focused more on actual code than design, let's place a basic square-shaped avatar for now on the left side of the image. In the interest of coverage, you will also make it a circle afterward.",-1),qn=t("div",{class:"language-javascript ext-js line-numbers-mode"},[t("pre",{class:"language-javascript"},[t("code",null,[l("client"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"on"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'interactionCreate'"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token keyword"},"async"),l(),t("span",{class:"token parameter"},"interaction"),l(),t("span",{class:"token operator"},"=>"),l(),t("span",{class:"token punctuation"},"{"),l("\n\t"),t("span",{class:"token comment"},"// ..."),l("\n\tcontext"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"strokeRect"),t("span",{class:"token punctuation"},"("),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},","),l(" canvas"),t("span",{class:"token punctuation"},"."),l("width"),t("span",{class:"token punctuation"},","),l(" canvas"),t("span",{class:"token punctuation"},"."),l("height"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\n\t"),t("span",{class:"token keyword"},"const"),l(" avatar "),t("span",{class:"token operator"},"="),l(),t("span",{class:"token keyword"},"await"),l(" Canvas"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"loadImage"),t("span",{class:"token punctuation"},"("),l("interaction"),t("span",{class:"token punctuation"},"."),l("user"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"displayAvatarURL"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),l(" format"),t("span",{class:"token operator"},":"),l(),t("span",{class:"token string"},"'jpg'"),l(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\n\t"),t("span",{class:"token comment"},"// Draw a shape onto the main canvas"),l("\n\tcontext"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"drawImage"),t("span",{class:"token punctuation"},"("),l("avatar"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token number"},"25"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token number"},"200"),t("span",{class:"token punctuation"},","),l(" canvas"),t("span",{class:"token punctuation"},"."),l("height"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\t"),t("span",{class:"token comment"},"// ..."),l("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n")])]),t("div",{class:"highlight-lines"},[t("br"),t("br"),t("br"),t("br"),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("br")]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br")])],-1),Dn=t("p",null,[t("img",{src:"/assets/canvas-stretched-avatar.4d8ca2f2.png",alt:"Image"})],-1),Gn=t("p",null,"It works well, but the avatar image itself seems a bit stretched out. Let's remedy that.",-1),Un=t("div",{class:"language-javascript ext-js line-numbers-mode"},[t("pre",{class:"language-javascript"},[t("code",null,[l("client"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"on"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'interactionCreate'"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token keyword"},"async"),l(),t("span",{class:"token parameter"},"interaction"),l(),t("span",{class:"token operator"},"=>"),l(),t("span",{class:"token punctuation"},"{"),l("\n\t"),t("span",{class:"token comment"},"// ..."),l("\n\t"),t("span",{class:"token keyword"},"const"),l(" avatar "),t("span",{class:"token operator"},"="),l(),t("span",{class:"token keyword"},"await"),l(" Canvas"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"loadImage"),t("span",{class:"token punctuation"},"("),l("interaction"),t("span",{class:"token punctuation"},"."),l("user"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"displayAvatarURL"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),l(" format"),t("span",{class:"token operator"},":"),l(),t("span",{class:"token string"},"'jpg'"),l(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\n\t"),t("span",{class:"token comment"},"// Move the image downwards vertically and constrain its height to 200, so that it's square"),l("\n\tcontext"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"drawImage"),t("span",{class:"token punctuation"},"("),l("avatar"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token number"},"25"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token number"},"25"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token number"},"200"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token number"},"200"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\t"),t("span",{class:"token comment"},"// ..."),l("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n")])]),t("div",{class:"highlight-lines"},[t("br"),t("br"),t("br"),t("br"),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("br"),t("br")]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br")])],-1),Fn=t("p",null,[t("img",{src:"/assets/canvas-square-avatar.fda281ea.png",alt:"Image"})],-1),Hn=t("p",null,"The purpose of this small section is to demonstrate that working with Canvas is essentially a hit-and-miss workflow where you fiddle with properties until they work just right.",-1),On=t("p",null,"Since we covered how to load external images and fix dimensions, let's turn the avatar into a circle to improve the image's overall style.",-1),$n=t("div",{class:"language-javascript ext-js line-numbers-mode"},[t("pre",{class:"language-javascript"},[t("code",null,[l("client"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"on"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'interactionCreate'"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token keyword"},"async"),l(),t("span",{class:"token parameter"},"interaction"),l(),t("span",{class:"token operator"},"=>"),l(),t("span",{class:"token punctuation"},"{"),l("\n\t"),t("span",{class:"token comment"},"// ..."),l("\n\tcontext"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"strokeRect"),t("span",{class:"token punctuation"},"("),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},","),l(" canvas"),t("span",{class:"token punctuation"},"."),l("width"),t("span",{class:"token punctuation"},","),l(" canvas"),t("span",{class:"token punctuation"},"."),l("height"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\n\t"),t("span",{class:"token comment"},"// Pick up the pen"),l("\n\tcontext"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"beginPath"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\n\t"),t("span",{class:"token comment"},"// Start the arc to form a circle"),l("\n\tcontext"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"arc"),t("span",{class:"token punctuation"},"("),t("span",{class:"token number"},"125"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token number"},"125"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token number"},"100"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},","),l(" Math"),t("span",{class:"token punctuation"},"."),t("span",{class:"token constant"},"PI"),l(),t("span",{class:"token operator"},"*"),l(),t("span",{class:"token number"},"2"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token boolean"},"true"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\n\t"),t("span",{class:"token comment"},"// Put the pen down"),l("\n\tcontext"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"closePath"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\n\t"),t("span",{class:"token comment"},"// Clip off the region you drew on"),l("\n\tcontext"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"clip"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\t"),t("span",{class:"token comment"},"// ..."),l("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n")])]),t("div",{class:"highlight-lines"},[t("br"),t("br"),t("br"),t("br"),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("br"),t("br")]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br"),t("span",{class:"line-number"},"15"),t("br"),t("span",{class:"line-number"},"16"),t("br"),t("span",{class:"line-number"},"17"),t("br")])],-1),En=t("p",null,[t("img",{src:"/assets/canvas-circle-avatar.d5ed32e4.png",alt:"Image"})],-1),Vn={class:"custom-container tip"},Jn=t("p",{class:"custom-container-title"},"TIP",-1),Kn=l("You can read more about "),Qn=t("code",null,"context.arc()",-1),Xn=l(" on "),Zn={href:"https://www.w3schools.com/tags/canvas_arc.asp",target:"_blank",rel:"noopener noreferrer"},ns=l("w3schools"),ss=l(" or "),as={href:"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/arc",target:"_blank",rel:"noopener noreferrer"},ts=l("MDN"),es=l("."),os=t("h3",{id:"adding-in-text",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#adding-in-text","aria-hidden":"true"},"#"),l(" Adding in text")],-1),cs=t("p",null,"Now, let's quickly go over adding text to your image. This will help make the purpose of this image apparent since currently, it's just an avatar floating on a starry background that comes out of nowhere.",-1),ls=t("div",{class:"language-javascript ext-js line-numbers-mode"},[t("pre",{class:"language-javascript"},[t("code",null,[l("client"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"on"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'interactionCreate'"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token keyword"},"async"),l(),t("span",{class:"token parameter"},"interaction"),l(),t("span",{class:"token operator"},"=>"),l(),t("span",{class:"token punctuation"},"{"),l("\n\t"),t("span",{class:"token comment"},"// ..."),l("\n\tcontext"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"strokeRect"),t("span",{class:"token punctuation"},"("),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},","),l(" canvas"),t("span",{class:"token punctuation"},"."),l("width"),t("span",{class:"token punctuation"},","),l(" canvas"),t("span",{class:"token punctuation"},"."),l("height"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\n\t"),t("span",{class:"token comment"},"// Select the font size and type from one of the natively available fonts"),l("\n\tcontext"),t("span",{class:"token punctuation"},"."),l("font "),t("span",{class:"token operator"},"="),l(),t("span",{class:"token string"},"'60px sans-serif'"),t("span",{class:"token punctuation"},";"),l("\n\n\t"),t("span",{class:"token comment"},"// Select the style that will be used to fill the text in"),l("\n\tcontext"),t("span",{class:"token punctuation"},"."),l("fillStyle "),t("span",{class:"token operator"},"="),l(),t("span",{class:"token string"},"'#ffffff'"),t("span",{class:"token punctuation"},";"),l("\n\n\t"),t("span",{class:"token comment"},"// Actually fill the text with a solid color"),l("\n\tcontext"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"fillText"),t("span",{class:"token punctuation"},"("),l("interaction"),t("span",{class:"token punctuation"},"."),l("member"),t("span",{class:"token punctuation"},"."),l("displayName"),t("span",{class:"token punctuation"},","),l(" canvas"),t("span",{class:"token punctuation"},"."),l("width "),t("span",{class:"token operator"},"/"),l(),t("span",{class:"token number"},"2.5"),t("span",{class:"token punctuation"},","),l(" canvas"),t("span",{class:"token punctuation"},"."),l("height "),t("span",{class:"token operator"},"/"),l(),t("span",{class:"token number"},"1.8"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\t"),t("span",{class:"token comment"},"// ..."),l("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n")])]),t("div",{class:"highlight-lines"},[t("br"),t("br"),t("br"),t("br"),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("br"),t("br")]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br")])],-1),is=t("p",null,[t("img",{src:"/assets/canvas-add-name.d2508aab.png",alt:"Image"})],-1),ps=t("div",{class:"custom-container tip"},[t("p",{class:"custom-container-title"},"TIP"),t("p",null,[l("If you get an error like "),t("code",null,"Fontconfig error: Cannot load default config file"),l(", it means you do not have any fonts installed on your system. On Linux, you can run the following command to fix this: "),t("code",null,"sudo apt-get install fontconfig"),l(". This might also need to be installed if you see boxes where the text should be. As for Windows, you will need to find a way to install fonts.")])],-1),us=t("p",null,"You may have noticed or considered that if a member's username is too long, then the output won't be quite nice. This is because the text overflows out of the canvas, and you don't have any measures in place for that. Let's take care of this issue!",-1),rs=t("div",{class:"language-javascript ext-js line-numbers-mode"},[t("pre",{class:"language-javascript"},[t("code",null,[t("span",{class:"token comment"},"// Pass the entire Canvas object because you'll need access to its width and context"),l("\n"),t("span",{class:"token keyword"},"const"),l(),t("span",{class:"token function-variable function"},"applyText"),l(),t("span",{class:"token operator"},"="),l(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},[l("canvas"),t("span",{class:"token punctuation"},","),l(" text")]),t("span",{class:"token punctuation"},")"),l(),t("span",{class:"token operator"},"=>"),l(),t("span",{class:"token punctuation"},"{"),l("\n\t"),t("span",{class:"token keyword"},"const"),l(" context "),t("span",{class:"token operator"},"="),l(" canvas"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"getContext"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'2d'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\n\t"),t("span",{class:"token comment"},"// Declare a base size of the font"),l("\n\t"),t("span",{class:"token keyword"},"let"),l(" fontSize "),t("span",{class:"token operator"},"="),l(),t("span",{class:"token number"},"70"),t("span",{class:"token punctuation"},";"),l("\n\n\t"),t("span",{class:"token keyword"},"do"),l(),t("span",{class:"token punctuation"},"{"),l("\n\t\t"),t("span",{class:"token comment"},"// Assign the font to the context and decrement it so it can be measured again"),l("\n\t\tcontext"),t("span",{class:"token punctuation"},"."),l("font "),t("span",{class:"token operator"},"="),l(),t("span",{class:"token template-string"},[t("span",{class:"token template-punctuation string"},"`"),t("span",{class:"token interpolation"},[t("span",{class:"token interpolation-punctuation punctuation"},"${"),l("fontSize "),t("span",{class:"token operator"},"-="),l(),t("span",{class:"token number"},"10"),t("span",{class:"token interpolation-punctuation punctuation"},"}")]),t("span",{class:"token string"},"px sans-serif"),t("span",{class:"token template-punctuation string"},"`")]),t("span",{class:"token punctuation"},";"),l("\n\t\t"),t("span",{class:"token comment"},"// Compare pixel width of the text to the canvas minus the approximate avatar size"),l("\n\t"),t("span",{class:"token punctuation"},"}"),l(),t("span",{class:"token keyword"},"while"),l(),t("span",{class:"token punctuation"},"("),l("context"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"measureText"),t("span",{class:"token punctuation"},"("),l("text"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},"."),l("width "),t("span",{class:"token operator"},">"),l(" canvas"),t("span",{class:"token punctuation"},"."),l("width "),t("span",{class:"token operator"},"-"),l(),t("span",{class:"token number"},"300"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\n\t"),t("span",{class:"token comment"},"// Return the result to use in the actual canvas"),l("\n\t"),t("span",{class:"token keyword"},"return"),l(" context"),t("span",{class:"token punctuation"},"."),l("font"),t("span",{class:"token punctuation"},";"),l("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},";"),l("\n\nclient"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"on"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'interactionCreate'"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token keyword"},"async"),l(),t("span",{class:"token parameter"},"interaction"),l(),t("span",{class:"token operator"},"=>"),l(),t("span",{class:"token punctuation"},"{"),l("\n\t"),t("span",{class:"token comment"},"// ..."),l("\n\tcontext"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"strokeRect"),t("span",{class:"token punctuation"},"("),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},","),l(" canvas"),t("span",{class:"token punctuation"},"."),l("width"),t("span",{class:"token punctuation"},","),l(" canvas"),t("span",{class:"token punctuation"},"."),l("height"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\n\t"),t("span",{class:"token comment"},"// Assign the decided font to the canvas"),l("\n\tcontext"),t("span",{class:"token punctuation"},"."),l("font "),t("span",{class:"token operator"},"="),l(),t("span",{class:"token function"},"applyText"),t("span",{class:"token punctuation"},"("),l("canvas"),t("span",{class:"token punctuation"},","),l(" interaction"),t("span",{class:"token punctuation"},"."),l("member"),t("span",{class:"token punctuation"},"."),l("displayName"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\tcontext"),t("span",{class:"token punctuation"},"."),l("fillStyle "),t("span",{class:"token operator"},"="),l(),t("span",{class:"token string"},"'#ffffff'"),t("span",{class:"token punctuation"},";"),l("\n\tcontext"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"fillText"),t("span",{class:"token punctuation"},"("),l("interaction"),t("span",{class:"token punctuation"},"."),l("member"),t("span",{class:"token punctuation"},"."),l("displayName"),t("span",{class:"token punctuation"},","),l(" canvas"),t("span",{class:"token punctuation"},"."),l("width "),t("span",{class:"token operator"},"/"),l(),t("span",{class:"token number"},"2.5"),t("span",{class:"token punctuation"},","),l(" canvas"),t("span",{class:"token punctuation"},"."),l("height "),t("span",{class:"token operator"},"/"),l(),t("span",{class:"token number"},"1.8"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\t"),t("span",{class:"token comment"},"// ..."),l("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n")])]),t("div",{class:"highlight-lines"},[t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("br"),t("br"),t("br"),t("br"),t("br"),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("br"),t("br")]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br"),t("span",{class:"line-number"},"15"),t("br"),t("span",{class:"line-number"},"16"),t("br"),t("span",{class:"line-number"},"17"),t("br"),t("span",{class:"line-number"},"18"),t("br"),t("span",{class:"line-number"},"19"),t("br"),t("span",{class:"line-number"},"20"),t("br"),t("span",{class:"line-number"},"21"),t("br"),t("span",{class:"line-number"},"22"),t("br"),t("span",{class:"line-number"},"23"),t("br"),t("span",{class:"line-number"},"24"),t("br"),t("span",{class:"line-number"},"25"),t("br"),t("span",{class:"line-number"},"26"),t("br"),t("span",{class:"line-number"},"27"),t("br")])],-1),ks=t("p",null,"Before adjustment:",-1),hs=t("p",null,[t("img",{src:"/assets/canvas-before-text-wrap.5c5e8f5b.png",alt:"Before adjustment"})],-1),ms=t("p",null,"After adjustment:",-1),ds=t("p",null,[t("img",{src:"/assets/canvas-after-text-wrap.928c12c4.png",alt:"After adjustment"})],-1),bs=t("p",null,"Let's move the welcome text inside the image itself instead of adding it outside as a nice finishing touch.",-1),gs=t("div",{class:"language-javascript ext-js line-numbers-mode"},[t("pre",{class:"language-javascript"},[t("code",null,[l("client"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"on"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'interactionCreate'"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token keyword"},"async"),l(),t("span",{class:"token parameter"},"interaction"),l(),t("span",{class:"token operator"},"=>"),l(),t("span",{class:"token punctuation"},"{"),l("\n\t"),t("span",{class:"token comment"},"// ..."),l("\n\tcontext"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"strokeRect"),t("span",{class:"token punctuation"},"("),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},","),l(" canvas"),t("span",{class:"token punctuation"},"."),l("width"),t("span",{class:"token punctuation"},","),l(" canvas"),t("span",{class:"token punctuation"},"."),l("height"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\n\t"),t("span",{class:"token comment"},"// Slightly smaller text placed above the member's display name"),l("\n\tcontext"),t("span",{class:"token punctuation"},"."),l("font "),t("span",{class:"token operator"},"="),l(),t("span",{class:"token string"},"'28px sans-serif'"),t("span",{class:"token punctuation"},";"),l("\n\tcontext"),t("span",{class:"token punctuation"},"."),l("fillStyle "),t("span",{class:"token operator"},"="),l(),t("span",{class:"token string"},"'#ffffff'"),t("span",{class:"token punctuation"},";"),l("\n\tcontext"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"fillText"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'Profile'"),t("span",{class:"token punctuation"},","),l(" canvas"),t("span",{class:"token punctuation"},"."),l("width "),t("span",{class:"token operator"},"/"),l(),t("span",{class:"token number"},"2.5"),t("span",{class:"token punctuation"},","),l(" canvas"),t("span",{class:"token punctuation"},"."),l("height "),t("span",{class:"token operator"},"/"),l(),t("span",{class:"token number"},"3.5"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\n\t"),t("span",{class:"token comment"},"// Add an exclamation point here and below"),l("\n\tcontext"),t("span",{class:"token punctuation"},"."),l("font "),t("span",{class:"token operator"},"="),l(),t("span",{class:"token function"},"applyText"),t("span",{class:"token punctuation"},"("),l("canvas"),t("span",{class:"token punctuation"},","),l(),t("span",{class:"token template-string"},[t("span",{class:"token template-punctuation string"},"`"),t("span",{class:"token interpolation"},[t("span",{class:"token interpolation-punctuation punctuation"},"${"),l("interaction"),t("span",{class:"token punctuation"},"."),l("member"),t("span",{class:"token punctuation"},"."),l("displayName"),t("span",{class:"token interpolation-punctuation punctuation"},"}")]),t("span",{class:"token string"},"!"),t("span",{class:"token template-punctuation string"},"`")]),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\tcontext"),t("span",{class:"token punctuation"},"."),l("fillStyle "),t("span",{class:"token operator"},"="),l(),t("span",{class:"token string"},"'#ffffff'"),t("span",{class:"token punctuation"},";"),l("\n\tcontext"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"fillText"),t("span",{class:"token punctuation"},"("),t("span",{class:"token template-string"},[t("span",{class:"token template-punctuation string"},"`"),t("span",{class:"token interpolation"},[t("span",{class:"token interpolation-punctuation punctuation"},"${"),l("interaction"),t("span",{class:"token punctuation"},"."),l("member"),t("span",{class:"token punctuation"},"."),l("displayName"),t("span",{class:"token interpolation-punctuation punctuation"},"}")]),t("span",{class:"token string"},"!"),t("span",{class:"token template-punctuation string"},"`")]),t("span",{class:"token punctuation"},","),l(" canvas"),t("span",{class:"token punctuation"},"."),l("width "),t("span",{class:"token operator"},"/"),l(),t("span",{class:"token number"},"2.5"),t("span",{class:"token punctuation"},","),l(" canvas"),t("span",{class:"token punctuation"},"."),l("height "),t("span",{class:"token operator"},"/"),l(),t("span",{class:"token number"},"1.8"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n\t"),t("span",{class:"token comment"},"// ..."),l("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),l("\n")])]),t("div",{class:"highlight-lines"},[t("br"),t("br"),t("br"),t("br"),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("br"),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("div",{class:"highlight-line"}," "),t("br"),t("br")]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br"),t("span",{class:"line-number"},"15"),t("br")])],-1),fs=t("p",null,[t("img",{src:"/assets/canvas-final-result.d2d1dfdb.png",alt:"Final result"})],-1),vs=t("p",null,"And that's it! We have covered the basics of image manipulation, text generation, and loading from a remote source.",-1),ws=t("h2",{id:"resulting-code",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#resulting-code","aria-hidden":"true"},"#"),l(" Resulting code")],-1);i.render=function(l,i){const ys=n("RouterLink"),xs=n("CodeGroupItem"),Cs=n("CodeGroup"),js=n("OutboundLink"),Is=n("ResultingCode");return s(),a(c,null,[p,u,r,k,t("div",h,[m,t("p",null,[d,e(ys,{to:"/additional-info/async-await.html"},{default:o((()=>[b])),_:1}),g,e(ys,{to:"/additional-info/es6-syntax.html#object-destructuring"},{default:o((()=>[f])),_:1}),v])]),w,y,x,e(Cs,null,{default:o((()=>[e(xs,{title:"npm"},{default:o((()=>[C])),_:1}),e(xs,{title:"yarn"},{default:o((()=>[j])),_:1}),e(xs,{title:"pnpm"},{default:o((()=>[I])),_:1}),e(xs,{title:"Chocolatey"},{default:o((()=>[A])),_:1})])),_:1}),t("p",null,[T,t("a",_,[S,e(js)]),R,N,P]),t("p",null,[L,W,M,t("a",B,[z,e(js)]),Y]),q,t("p",null,[D,t("a",G,[U,e(js)]),F]),H,O,e(Cs,null,{default:o((()=>[e(xs,{title:"npm"},{default:o((()=>[$])),_:1}),e(xs,{title:"yarn"},{default:o((()=>[E])),_:1}),e(xs,{title:"pnpm"},{default:o((()=>[V])),_:1})])),_:1}),J,K,Q,t("div",X,[Z,t("p",null,[nn,e(ys,{to:"/interactions/registering-slash-commands.html"},{default:o((()=>[sn])),_:1}),an])]),tn,en,on,t("div",cn,[ln,t("p",null,[pn,un,t("a",rn,[kn,e(js)]),hn,t("a",mn,[dn,e(js)]),bn])]),gn,t("p",null,[fn,vn,wn,t("a",yn,[xn,Cn,e(js)]),jn]),t("p",null,[In,t("a",An,[Tn,e(js)]),_n,Sn,Rn]),Nn,Pn,Ln,Wn,Mn,Bn,zn,Yn,qn,Dn,Gn,Un,Fn,Hn,On,$n,En,t("div",Vn,[Jn,t("p",null,[Kn,Qn,Xn,t("a",Zn,[ns,e(js)]),ss,t("a",as,[ts,e(js)]),es])]),os,cs,ls,is,ps,us,rs,ks,hs,ms,ds,bs,gs,fs,vs,ws,e(Is)],64)};export{i as default};
