<!DOCTYPE html>
<html lang="en-US">
<head>
	<style>
		:root {
			--c-bg: #fff;
		}

		html.dark {
			--c-bg: #1d1d1d;
		}

		html, body {
			background-color: var(--c-bg);
		}
	</style>
	<script>
		(() => {
			const { classList } = document.documentElement;
			const userMode = localStorage.getItem('guide-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				classList.toggle('dark', true);
			}

			const themes = ['blurple'];
			let colorTheme = localStorage.getItem('guide-color-theme');

			if (colorTheme !== 'default' && !themes.includes(colorTheme)) {
				colorTheme = 'default';
			}

			if (colorTheme !== 'default') classList.add(`guide-theme-${colorTheme}`);
		})();
	</script>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="icon" href="../favicon.png"><meta name="theme-color" content="#3eaf7c"><meta name="twitter:card" content="summary"><meta property="og:title" content="Discord.js Guide"><meta property="og:description" content="Imagine a guide... that explores the many possibilities for your discord.js bot."><meta property="og:type" content="website"><meta property="og:url" content="https://discordjs.guide/"><meta property="og:locale" content="en_US"><meta property="og:image" content="/meta-image.png"><title>Errors | Discord.js Guide</title><meta name="description" content="Imagine a guide... that explores the many possibilities for your discord.js bot.">
<link rel="modulepreload" href="/djsgc/assets/app.554c1b80.js"><link rel="modulepreload" href="/djsgc/assets/errors.html.c3cbf4c7.js"><link rel="modulepreload" href="/djsgc/assets/errors.html.926a0509.js">
<link rel="stylesheet" href="/djsgc/assets/style.34d76a50.css">
</head>
<body>
<<<<<<< HEAD
	<div id="app"><!--[--><div class="theme-container"><header class="navbar"><div class="navbar-wrapper"><div class="navbar-links-wrapper"><div class="navbar-links-container"><span class="navbar-links-home"><a href="../index.html" class="">Discord.js Guide</a></span><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/djsgc/voice.html" class="nav-link" aria-label="Voice"><!--[--><!--]--> Voice <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://discord.js.org/#/docs/main/stable/general/welcome" rel="noopener noreferrer" target="_blank" aria-label="Documentation"><!--[--><!--]--> Documentation <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/discordjs/guide" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--></div><div class="navbar-links-container"><button class="toggle-dark-button"><svg class="icon light-icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="icon dark-icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container" class="navbar-search"></div><div class="toggle-sidebar-button"><svg viewbox="0 0 448 512" class="icon sidebar-menu-icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg><svg viewbox="0 0 24 24" class="icon sidebar-close-icon"><path d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41z" fill="currentColor"></path></svg></div></div></div></div></header><div class="content-wrapper"><div class="notifications-wrapper"><div class="notifications"><!--[--><!----><!--]--></div></div><div class="sidebar-mask"></div><div class="sidebar-wrapper"><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/djsgc/voice.html" class="nav-link" aria-label="Voice"><!--[--><!--]--> Voice <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://discord.js.org/#/docs/main/stable/general/welcome" rel="noopener noreferrer" target="_blank" aria-label="Documentation"><!--[--><!--]--> Documentation <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/discordjs/guide" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><div class="sidebar-group sidebar-group-collapsed"><button class="sidebar-heading sidebar-item"> Settings <svg viewbox="0 0 24 24" class="menu-icon"><path d="M7.41 8.58L12 13.17l4.59-4.59L18 10l-6 6l-6-6l1.41-1.42z" fill="currentColor"></path></svg></button><ul style="display:none;"><li><div class="sidebar-item"><div class="theme-options"><ul class="color-theme-options"><span>Theme</span><li><button class="default-theme" title="Green theme"></button></li><li><button class="blurple-theme" title="Blurple theme"></button></li></ul></div></div></li></ul></div><!--[--><!--[--><p class="sidebar-heading sidebar-item">Home</p><ul class=""><li><!--[--><a href="../index.html" class="nav-link sidebar-item" aria-label="Introduction"><!--[--><!--]--> Introduction <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="../requesting-more-content.html" class="nav-link sidebar-item" aria-label="Requesting more content"><!--[--><!--]--> Requesting more content <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="../whats-new.html" class="nav-link sidebar-item" aria-label="What&#39;s new"><!--[--><!--]--> What&#39;s new <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Installations &amp; Preparations</p><ul class=""><li><!--[--><a href="/djsgc/preparations/index.html" class="nav-link sidebar-item" aria-label="Installing Node.js and discord.js"><!--[--><!--]--> Installing Node.js and discord.js <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/preparations/setting-up-a-linter.html" class="nav-link sidebar-item" aria-label="Setting up a linter"><!--[--><!--]--> Setting up a linter <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/preparations/setting-up-a-bot-application.html" class="nav-link sidebar-item" aria-label="Setting up a bot application"><!--[--><!--]--> Setting up a bot application <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="https://discordjs.guide/preparations/adding-your-bot-to-servers.html" class="nav-link sidebar-item" aria-label="Adding your bot to servers"><!--[--><!--]--> Adding your bot to servers <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Creating Your Bot</p><ul class=""><li><!--[--><a href="/djsgc/creating-your-bot/index.html" class="nav-link sidebar-item" aria-label="Initial files"><!--[--><!--]--> Initial files <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/creating-your-bot/creating-commands.html" class="nav-link sidebar-item" aria-label="Creating commands"><!--[--><!--]--> Creating commands <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/creating-your-bot/command-handling.html" class="nav-link sidebar-item" aria-label="Command handling"><!--[--><!--]--> Command handling <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/creating-your-bot/event-handling.html" class="nav-link sidebar-item" aria-label="Event handling"><!--[--><!--]--> Event handling <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Interactions</p><ul class=""><li><!--[--><a href="/djsgc/interactions/registering-slash-commands.html" class="nav-link sidebar-item" aria-label="Registering slash commands"><!--[--><!--]--> Registering slash commands <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/interactions/replying-to-slash-commands.html" class="nav-link sidebar-item" aria-label="Replying to slash commands"><!--[--><!--]--> Replying to slash commands <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/interactions/slash-command-permissions.html" class="nav-link sidebar-item" aria-label="Slash command permissions"><!--[--><!--]--> Slash command permissions <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/interactions/buttons.html" class="nav-link sidebar-item" aria-label="Buttons"><!--[--><!--]--> Buttons <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/interactions/select-menus.html" class="nav-link sidebar-item" aria-label="Select menus"><!--[--><!--]--> Select menus <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item active">Popular Topics</p><ul class=""><li><!--[--><a href="/djsgc/popular-topics/faq.html" class="nav-link sidebar-item" aria-label="Frequently asked Questions"><!--[--><!--]--> Frequently asked Questions <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/popular-topics/threads.html" class="nav-link sidebar-item" aria-label="Threads"><!--[--><!--]--> Threads <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/popular-topics/embeds.html" class="nav-link sidebar-item" aria-label="Embeds"><!--[--><!--]--> Embeds <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/popular-topics/builders.html" class="nav-link sidebar-item" aria-label="Builders"><!--[--><!--]--> Builders <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/popular-topics/reactions.html" class="nav-link sidebar-item" aria-label="Reactions"><!--[--><!--]--> Reactions <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/popular-topics/collectors.html" class="nav-link sidebar-item" aria-label="Collectors"><!--[--><!--]--> Collectors <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/popular-topics/permissions.html" class="nav-link sidebar-item" aria-label="Permissions"><!--[--><!--]--> Permissions <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/popular-topics/permissions-extended.html" class="nav-link sidebar-item" aria-label="Permissions (extended)"><!--[--><!--]--> Permissions (extended) <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/popular-topics/intents.html" class="nav-link sidebar-item" aria-label="Gateway Intents"><!--[--><!--]--> Gateway Intents <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/popular-topics/partials.html" class="nav-link sidebar-item" aria-label="Partial Structures"><!--[--><!--]--> Partial Structures <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/popular-topics/webhooks.html" class="nav-link sidebar-item" aria-label="Webhooks"><!--[--><!--]--> Webhooks <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html" class="router-link-active router-link-exact-active nav-link router-link-active sidebar-item active" aria-label="Errors"><!--[--><!--]--> Errors <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#types-of-errors" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Types of Errors"><!--[--><!--]--> Types of Errors <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#api-errors" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="API Errors"><!--[--><!--]--> API Errors <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#discord-js-errors" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="discord.js errors"><!--[--><!--]--> discord.js errors <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#javascript-errors" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="JavaScript errors"><!--[--><!--]--> JavaScript errors <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#websocket-and-network-errors" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="WebSocket and Network errors"><!--[--><!--]--> WebSocket and Network errors <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#how-to-diagnose-api-errors" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="How to diagnose API errors"><!--[--><!--]--> How to diagnose API errors <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#message" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Message"><!--[--><!--]--> Message <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#path" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Path"><!--[--><!--]--> Path <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#code" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Code"><!--[--><!--]--> Code <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#method" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Method"><!--[--><!--]--> Method <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#common-discord-js-and-api-errors" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Common discord.js and API errors"><!--[--><!--]--> Common discord.js and API errors <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#an-invalid-token-was-provided" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="An invalid token was provided."><!--[--><!--]--> An invalid token was provided. <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#request-to-use-token-but-token-was-unavailable-to-the-client" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Request to use token, but token was unavailable to the client."><!--[--><!--]--> Request to use token, but token was unavailable to the client. <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#messageembed-field-names-may-not-be-empty" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="MessageEmbed field names may not be empty."><!--[--><!--]--> MessageEmbed field names may not be empty. <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#messageembed-field-values-may-not-be-empty" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="MessageEmbed field values may not be empty."><!--[--><!--]--> MessageEmbed field values may not be empty. <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#the-messages-must-be-an-array-collection-or-number" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="The messages must be an Array, Collection, or number."><!--[--><!--]--> The messages must be an Array, Collection, or number. <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#members-didn-t-arrive-in-time" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Members didn&#39;t arrive in time."><!--[--><!--]--> Members didn&#39;t arrive in time. <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#maxlistenersexceededwarning-possible-eventemitter-memory-leak-detected" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="MaxListenersExceededWarning: Possible EventEmitter memory leak detected..."><!--[--><!--]--> MaxListenersExceededWarning: Possible EventEmitter memory leak detected... <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#cannot-send-messages-to-this-user" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Cannot send messages to this user."><!--[--><!--]--> Cannot send messages to this user. <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#common-miscellaneous-errors" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Common miscellaneous errors"><!--[--><!--]--> Common miscellaneous errors <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#code-enoent-syscall-spawn-git" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="code ENOENT... syscall spawn git."><!--[--><!--]--> code ENOENT... syscall spawn git. <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#code-elifecycle" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="code ELIFECYCLE"><!--[--><!--]--> code ELIFECYCLE <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li></ul><!--]--></li><li><!--[--><a href="/djsgc/popular-topics/audit-logs.html" class="nav-link sidebar-item" aria-label="Working with Audit Logs"><!--[--><!--]--> Working with Audit Logs <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/popular-topics/canvas.html" class="nav-link sidebar-item" aria-label="Image manipulation with Canvas"><!--[--><!--]--> Image manipulation with Canvas <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Miscellaneous</p><ul class=""><li><!--[--><a href="/djsgc/miscellaneous/parsing-mention-arguments.html" class="nav-link sidebar-item" aria-label="Parsing mentions"><!--[--><!--]--> Parsing mentions <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/miscellaneous/useful-packages.html" class="nav-link sidebar-item" aria-label="Useful packages"><!--[--><!--]--> Useful packages <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Databases</p><ul class=""><li><!--[--><a href="/djsgc/sequelize/index.html" class="nav-link sidebar-item" aria-label="Storing data with Sequelize"><!--[--><!--]--> Storing data with Sequelize <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/sequelize/currency.html" class="nav-link sidebar-item" aria-label="Making a Currency System"><!--[--><!--]--> Making a Currency System <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/keyv/index.html" class="nav-link sidebar-item" aria-label="Storing data with Keyv"><!--[--><!--]--> Storing data with Keyv <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Sharding</p><ul class=""><li><!--[--><a href="/djsgc/sharding/index.html" class="nav-link sidebar-item" aria-label="Getting started"><!--[--><!--]--> Getting started <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/sharding/additional-information.html" class="nav-link sidebar-item" aria-label="Additional information"><!--[--><!--]--> Additional information <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/sharding/extended.html" class="nav-link sidebar-item" aria-label="Extended changes"><!--[--><!--]--> Extended changes <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">OAuth2</p><ul class=""><li><!--[--><a href="/djsgc/oauth2/index.html" class="nav-link sidebar-item" aria-label="Getting started with OAuth2"><!--[--><!--]--> Getting started with OAuth2 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Improving Your Dev Environment</p><ul class=""><li><!--[--><a href="/djsgc/improving-dev-environment/pm2.html" class="nav-link sidebar-item" aria-label="Managing your bot process with PM2"><!--[--><!--]--> Managing your bot process with PM2 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="https://discordjs.guide/improving-dev-environment/package-json-scripts.html" class="nav-link sidebar-item" aria-label="Setting up package.json scripts"><!--[--><!--]--> Setting up package.json scripts <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Additional Information</p><ul class=""><li><!--[--><a href="/djsgc/additional-info/notation.html" class="nav-link sidebar-item" aria-label="Understanding notation"><!--[--><!--]--> Understanding notation <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/additional-info/es6-syntax.html" class="nav-link sidebar-item" aria-label="ES6 syntax examples"><!--[--><!--]--> ES6 syntax examples <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/additional-info/collections.html" class="nav-link sidebar-item" aria-label="Collections"><!--[--><!--]--> Collections <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/additional-info/async-await.html" class="nav-link sidebar-item" aria-label="Understanding async/await"><!--[--><!--]--> Understanding async/await <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/additional-info/rest-api.html" class="nav-link sidebar-item" aria-label="Using a REST API"><!--[--><!--]--> Using a REST API <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/additional-info/changes-in-v13.html" class="nav-link sidebar-item" aria-label="Updating from v12 to v13"><!--[--><!--]--> Updating from v12 to v13 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside></div><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="errors" tabindex="-1"><a class="header-anchor" href="/djsgc/popular-topics/errors.html#errors" aria-hidden="true">#</a> Errors</h1><p>There is no doubt that you have encountered errors while making bots. While errors are instrumental at warning you of what is going wrong, many people are stumped by them and how to track them down and fix them, but don&#39;t worry, we have you covered. This section will be all about diagnosing errors, identifying where they are coming from, and fixing them.</p><h2 id="types-of-errors" tabindex="-1"><a class="header-anchor" href="/djsgc/popular-topics/errors.html#types-of-errors" aria-hidden="true">#</a> Types of Errors</h2><h3 id="api-errors" tabindex="-1"><a class="header-anchor" href="/djsgc/popular-topics/errors.html#api-errors" aria-hidden="true">#</a> API Errors</h3><p>API Errors or DiscordAPIErrors are thrown by the Discord API when an invalid request carries out. API Errors can be mostly diagnosed using the message that is given. You can further examine errors by inspecting the HTTP method and path used. We will explore tracking these errors down in the next section.</p><p>Example: <code>DiscordAPIError: Cannot send an empty message</code></p><h3 id="discord-js-errors" tabindex="-1"><a class="header-anchor" href="/djsgc/popular-topics/errors.html#discord-js-errors" aria-hidden="true">#</a> discord.js errors</h3><p>discord.js errors are thrown by the library itself. They can usually be easily tracked down using the stack trace and error message.</p><p>Example: <code>The messages must be an Array, Collection, or number.</code></p><h3 id="javascript-errors" tabindex="-1"><a class="header-anchor" href="/djsgc/popular-topics/errors.html#javascript-errors" aria-hidden="true">#</a> JavaScript errors</h3><p>JavaScript errors are thrown by node itself or by discord.js. These errors can easily be fixed by looking at the type of error and the stack trace. You can find a full list of types <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noopener noreferrer">here<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> And a list of common js errors <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors" target="_blank" rel="noopener noreferrer">here<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>.</p><p>Example: <code>ReferenceError: &quot;x&quot; is not defined</code></p><h3 id="websocket-and-network-errors" tabindex="-1"><a class="header-anchor" href="/djsgc/popular-topics/errors.html#websocket-and-network-errors" aria-hidden="true">#</a> WebSocket and Network errors</h3><p>WebSocket and Network errors are common system errors thrown by Node in response to something wrong with the WebSocket connection. Unfortunately, these errors do not have a concrete solution and can be (usually) fixed by getting a better, more stable, and more robust connection. discord.js will automatically try to reconnect to the WebSocket if an error occurs.</p><p>In version 12, WebSocket errors are handled internally, meaning your process should never crash from them. If you want to log these errors, should they happen, you can listen to the <code>shardError</code> event as shown below.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>client<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;shardError&#39;</span><span class="token punctuation">,</span> <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
=======
	<div id="app"><!--[--><div class="theme-container"><header class="navbar"><div class="navbar-wrapper"><div class="navbar-links-wrapper"><div class="navbar-links-container"><span class="navbar-links-home"><a href="../index.html" class="">Discord.js Guide</a></span><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="../voice.html" class="nav-link" aria-label="Voice"><!--[--><!--]--> Voice <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://discord.js.org/#/docs/main/stable/general/welcome" rel="noopener noreferrer" target="_blank" aria-label="Documentation"><!--[--><!--]--> Documentation <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/discordjs/guide" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--></div><div class="navbar-links-container"><button class="toggle-dark-button"><svg class="icon light-icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="icon dark-icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container" class="navbar-search"></div><div class="toggle-sidebar-button"><svg viewbox="0 0 448 512" class="icon sidebar-menu-icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg><svg viewbox="0 0 24 24" class="icon sidebar-close-icon"><path d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41z" fill="currentColor"></path></svg></div></div></div></div></header><div class="content-wrapper"><div class="notifications-wrapper"><div class="notifications"><!--[--><!----><!--]--></div></div><div class="sidebar-mask"></div><div class="sidebar-wrapper"><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="../voice.html" class="nav-link" aria-label="Voice"><!--[--><!--]--> Voice <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://discord.js.org/#/docs/main/stable/general/welcome" rel="noopener noreferrer" target="_blank" aria-label="Documentation"><!--[--><!--]--> Documentation <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/discordjs/guide" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><div class="sidebar-group sidebar-group-collapsed"><button class="sidebar-heading sidebar-item"> Settings <svg viewbox="0 0 24 24" class="menu-icon"><path d="M7.41 8.58L12 13.17l4.59-4.59L18 10l-6 6l-6-6l1.41-1.42z" fill="currentColor"></path></svg></button><ul style="display:none;"><li><div class="sidebar-item"><div class="theme-options"><ul class="color-theme-options"><span>Theme</span><li><button class="default-theme" title="Green theme"></button></li><li><button class="blurple-theme" title="Blurple theme"></button></li></ul></div></div></li></ul></div><!--[--><!--[--><p class="sidebar-heading sidebar-item">Home</p><ul class=""><li><!--[--><a href="../index.html" class="nav-link sidebar-item" aria-label="Introduction"><!--[--><!--]--> Introduction <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="../requesting-more-content.html" class="nav-link sidebar-item" aria-label="Requesting more content"><!--[--><!--]--> Requesting more content <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="../whats-new.html" class="nav-link sidebar-item" aria-label="What&#39;s new"><!--[--><!--]--> What&#39;s new <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Installations &amp; Preparations</p><ul class=""><li><!--[--><a href="../preparations/index.html" class="nav-link sidebar-item" aria-label="Installing Node.js and discord.js"><!--[--><!--]--> Installing Node.js and discord.js <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="../preparations/setting-up-a-linter.html" class="nav-link sidebar-item" aria-label="Setting up a linter"><!--[--><!--]--> Setting up a linter <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="../preparations/setting-up-a-bot-application.html" class="nav-link sidebar-item" aria-label="Setting up a bot application"><!--[--><!--]--> Setting up a bot application <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/preparations/adding-your-bot-to-servers.html" class="nav-link sidebar-item" aria-label="Adding your bot to servers"><!--[--><!--]--> Adding your bot to servers <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Creating Your Bot</p><ul class=""><li><!--[--><a href="../creating-your-bot/index.html" class="nav-link sidebar-item" aria-label="Initial files"><!--[--><!--]--> Initial files <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="../creating-your-bot/creating-commands.html" class="nav-link sidebar-item" aria-label="Creating commands"><!--[--><!--]--> Creating commands <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="../creating-your-bot/command-handling.html" class="nav-link sidebar-item" aria-label="Command handling"><!--[--><!--]--> Command handling <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="../creating-your-bot/event-handling.html" class="nav-link sidebar-item" aria-label="Event handling"><!--[--><!--]--> Event handling <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Interactions</p><ul class=""><li><!--[--><a href="../interactions/registering-slash-commands.html" class="nav-link sidebar-item" aria-label="Registering slash commands"><!--[--><!--]--> Registering slash commands <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="../interactions/replying-to-slash-commands.html" class="nav-link sidebar-item" aria-label="Replying to slash commands"><!--[--><!--]--> Replying to slash commands <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="../interactions/slash-command-permissions.html" class="nav-link sidebar-item" aria-label="Slash command permissions"><!--[--><!--]--> Slash command permissions <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="../interactions/buttons.html" class="nav-link sidebar-item" aria-label="Buttons"><!--[--><!--]--> Buttons <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="../interactions/select-menus.html" class="nav-link sidebar-item" aria-label="Select menus"><!--[--><!--]--> Select menus <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item active">Popular Topics</p><ul class=""><li><!--[--><a href="/djsgc/popular-topics/faq.html" class="nav-link sidebar-item" aria-label="Frequently asked Questions"><!--[--><!--]--> Frequently asked Questions <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/popular-topics/threads.html" class="nav-link sidebar-item" aria-label="Threads"><!--[--><!--]--> Threads <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/popular-topics/embeds.html" class="nav-link sidebar-item" aria-label="Embeds"><!--[--><!--]--> Embeds <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/popular-topics/builders.html" class="nav-link sidebar-item" aria-label="Builders"><!--[--><!--]--> Builders <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/popular-topics/reactions.html" class="nav-link sidebar-item" aria-label="Reactions"><!--[--><!--]--> Reactions <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/popular-topics/collectors.html" class="nav-link sidebar-item" aria-label="Collectors"><!--[--><!--]--> Collectors <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/popular-topics/permissions.html" class="nav-link sidebar-item" aria-label="Permissions"><!--[--><!--]--> Permissions <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/popular-topics/permissions-extended.html" class="nav-link sidebar-item" aria-label="Permissions (extended)"><!--[--><!--]--> Permissions (extended) <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/popular-topics/intents.html" class="nav-link sidebar-item" aria-label="Gateway Intents"><!--[--><!--]--> Gateway Intents <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/popular-topics/partials.html" class="nav-link sidebar-item" aria-label="Partial Structures"><!--[--><!--]--> Partial Structures <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/popular-topics/webhooks.html" class="nav-link sidebar-item" aria-label="Webhooks"><!--[--><!--]--> Webhooks <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html" class="router-link-active router-link-exact-active nav-link router-link-active sidebar-item active" aria-label="Errors"><!--[--><!--]--> Errors <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#types-of-errors" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Types of Errors"><!--[--><!--]--> Types of Errors <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#api-errors" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="API Errors"><!--[--><!--]--> API Errors <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#discord-js-errors" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="discord.js errors"><!--[--><!--]--> discord.js errors <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#javascript-errors" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="JavaScript errors"><!--[--><!--]--> JavaScript errors <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#websocket-and-network-errors" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="WebSocket and Network errors"><!--[--><!--]--> WebSocket and Network errors <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#how-to-diagnose-api-errors" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="How to diagnose API errors"><!--[--><!--]--> How to diagnose API errors <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#message" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Message"><!--[--><!--]--> Message <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#path" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Path"><!--[--><!--]--> Path <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#code" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Code"><!--[--><!--]--> Code <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#method" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Method"><!--[--><!--]--> Method <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#common-discord-js-and-api-errors" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Common discord.js and API errors"><!--[--><!--]--> Common discord.js and API errors <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#an-invalid-token-was-provided" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="An invalid token was provided."><!--[--><!--]--> An invalid token was provided. <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#request-to-use-token-but-token-was-unavailable-to-the-client" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Request to use token, but token was unavailable to the client."><!--[--><!--]--> Request to use token, but token was unavailable to the client. <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#messageembed-field-names-may-not-be-empty" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="MessageEmbed field names may not be empty."><!--[--><!--]--> MessageEmbed field names may not be empty. <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#messageembed-field-values-may-not-be-empty" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="MessageEmbed field values may not be empty."><!--[--><!--]--> MessageEmbed field values may not be empty. <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#the-messages-must-be-an-array-collection-or-number" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="The messages must be an Array, Collection, or number."><!--[--><!--]--> The messages must be an Array, Collection, or number. <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#members-didn-t-arrive-in-time" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Members didn&#39;t arrive in time."><!--[--><!--]--> Members didn&#39;t arrive in time. <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#maxlistenersexceededwarning-possible-eventemitter-memory-leak-detected" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="MaxListenersExceededWarning: Possible EventEmitter memory leak detected..."><!--[--><!--]--> MaxListenersExceededWarning: Possible EventEmitter memory leak detected... <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#cannot-send-messages-to-this-user" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Cannot send messages to this user."><!--[--><!--]--> Cannot send messages to this user. <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#common-miscellaneous-errors" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Common miscellaneous errors"><!--[--><!--]--> Common miscellaneous errors <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#code-enoent-syscall-spawn-git" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="code ENOENT... syscall spawn git."><!--[--><!--]--> code ENOENT... syscall spawn git. <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/djsgc/popular-topics/errors.html#code-elifecycle" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="code ELIFECYCLE"><!--[--><!--]--> code ELIFECYCLE <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li></ul><!--]--></li><li><!--[--><a href="/djsgc/popular-topics/audit-logs.html" class="nav-link sidebar-item" aria-label="Working with Audit Logs"><!--[--><!--]--> Working with Audit Logs <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/djsgc/popular-topics/canvas.html" class="nav-link sidebar-item" aria-label="Image manipulation with Canvas"><!--[--><!--]--> Image manipulation with Canvas <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Miscellaneous</p><ul class=""><li><!--[--><a href="../miscellaneous/parsing-mention-arguments.html" class="nav-link sidebar-item" aria-label="Parsing mentions"><!--[--><!--]--> Parsing mentions <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="../miscellaneous/useful-packages.html" class="nav-link sidebar-item" aria-label="Useful packages"><!--[--><!--]--> Useful packages <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Databases</p><ul class=""><li><!--[--><a href="../sequelize/index.html" class="nav-link sidebar-item" aria-label="Storing data with Sequelize"><!--[--><!--]--> Storing data with Sequelize <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="../sequelize/currency.html" class="nav-link sidebar-item" aria-label="Making a Currency System"><!--[--><!--]--> Making a Currency System <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="../keyv/index.html" class="nav-link sidebar-item" aria-label="Storing data with Keyv"><!--[--><!--]--> Storing data with Keyv <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Sharding</p><ul class=""><li><!--[--><a href="../sharding/index.html" class="nav-link sidebar-item" aria-label="Getting started"><!--[--><!--]--> Getting started <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="../sharding/additional-information.html" class="nav-link sidebar-item" aria-label="Additional information"><!--[--><!--]--> Additional information <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="../sharding/extended.html" class="nav-link sidebar-item" aria-label="Extended changes"><!--[--><!--]--> Extended changes <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">OAuth2</p><ul class=""><li><!--[--><a href="../oauth2/index.html" class="nav-link sidebar-item" aria-label="Getting started with OAuth2"><!--[--><!--]--> Getting started with OAuth2 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Improving Your Dev Environment</p><ul class=""><li><!--[--><a href="../improving-dev-environment/pm2.html" class="nav-link sidebar-item" aria-label="Managing your bot process with PM2"><!--[--><!--]--> Managing your bot process with PM2 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="https://discordjs.guide/improving-dev-environment/package-json-scripts.html" class="nav-link sidebar-item" aria-label="Setting up package.json scripts"><!--[--><!--]--> Setting up package.json scripts <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Additional Information</p><ul class=""><li><!--[--><a href="../additional-info/notation.html" class="nav-link sidebar-item" aria-label="Understanding notation"><!--[--><!--]--> Understanding notation <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="../additional-info/es6-syntax.html" class="nav-link sidebar-item" aria-label="ES6 syntax examples"><!--[--><!--]--> ES6 syntax examples <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="../additional-info/collections.html" class="nav-link sidebar-item" aria-label="Collections"><!--[--><!--]--> Collections <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="../additional-info/async-await.html" class="nav-link sidebar-item" aria-label="Understanding async/await"><!--[--><!--]--> Understanding async/await <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="../additional-info/rest-api.html" class="nav-link sidebar-item" aria-label="Using a REST API"><!--[--><!--]--> Using a REST API <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="../additional-info/changes-in-v13.html" class="nav-link sidebar-item" aria-label="Updating from v12 to v13"><!--[--><!--]--> Updating from v12 to v13 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside></div><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="errors" tabindex="-1"><a class="header-anchor" href="/djsgc/popular-topics/errors.html#errors" aria-hidden="true">#</a> Errors</h1><p>There is no doubt that you have encountered errors while making bots. While errors are instrumental at warning you of what is going wrong, many people are stumped by them and how to track them down and fix them, but don&#39;t worry, we have you covered. This section will be all about diagnosing errors, identifying where they are coming from, and fixing them.</p><h2 id="types-of-errors" tabindex="-1"><a class="header-anchor" href="/djsgc/popular-topics/errors.html#types-of-errors" aria-hidden="true">#</a> Types of Errors</h2><h3 id="api-errors" tabindex="-1"><a class="header-anchor" href="/djsgc/popular-topics/errors.html#api-errors" aria-hidden="true">#</a> API Errors</h3><p>API Errors or DiscordAPIErrors are thrown by the Discord API when an invalid request carries out. API Errors can be mostly diagnosed using the message that is given. You can further examine errors by inspecting the HTTP method and path used. We will explore tracking these errors down in the next section.</p><p>Example: <code>DiscordAPIError: Cannot send an empty message</code></p><h3 id="discord-js-errors" tabindex="-1"><a class="header-anchor" href="/djsgc/popular-topics/errors.html#discord-js-errors" aria-hidden="true">#</a> discord.js errors</h3><p>discord.js errors are thrown by the library itself. They can usually be easily tracked down using the stack trace and error message.</p><p>Example: <code>The messages must be an Array, Collection, or number.</code></p><h3 id="javascript-errors" tabindex="-1"><a class="header-anchor" href="/djsgc/popular-topics/errors.html#javascript-errors" aria-hidden="true">#</a> JavaScript errors</h3><p>JavaScript errors are thrown by node itself or by discord.js. These errors can easily be fixed by looking at the type of error and the stack trace. You can find a full list of types <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noopener noreferrer">here<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> And a list of common js errors <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors" target="_blank" rel="noopener noreferrer">here<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>.</p><p>Example: <code>ReferenceError: &quot;x&quot; is not defined</code></p><h3 id="websocket-and-network-errors" tabindex="-1"><a class="header-anchor" href="/djsgc/popular-topics/errors.html#websocket-and-network-errors" aria-hidden="true">#</a> WebSocket and Network errors</h3><p>WebSocket and Network errors are common system errors thrown by Node in response to something wrong with the WebSocket connection. Unfortunately, these errors do not have a concrete solution and can be (usually) fixed by getting a better, more stable, and more robust connection. discord.js will automatically try to reconnect to the WebSocket if an error occurs.</p><p>In version 12, WebSocket errors are handled internally, meaning your process should never crash from them. If you want to log these errors, should they happen, you can listen to the <code>shardError</code> event as shown below.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>client<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;shardError&#39;</span><span class="token punctuation">,</span> <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
>>>>>>> b206d03cfe8653f78fb6646416def86dcda48f45
	console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;A websocket connection encountered an error:&#39;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>The commonly thrown codes for these errors are:</p><ul><li><code>ECONNRESET</code> - The connection was forcibly closed by a peer, thrown by the loss of connection to a WebSocket due to timeout or reboot.</li><li><code>ETIMEDOUT</code> - A connect or send request failed because the receiving party did not respond after some time.</li><li><code>EPIPE</code> - The remote side of the stream being written to has been closed.</li><li><code>ENOTFOUND</code> - The domain being accessed is unavailable, usually caused by a lack of internet, can be thrown by the WebSocket and HTTP API.</li><li><code>ECONNREFUSED</code> - The target machine refused the connection; check your ports and firewall.</li></ul><h2 id="how-to-diagnose-api-errors" tabindex="-1"><a class="header-anchor" href="/djsgc/popular-topics/errors.html#how-to-diagnose-api-errors" aria-hidden="true">#</a> How to diagnose API errors</h2><p>API Errors can be tracked down by adding an event listener for unhandled rejections and looking at the extra info. This can be done by adding this to your main file.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>process<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;unhandledRejection&#39;</span><span class="token punctuation">,</span> <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;Unhandled promise rejection:&#39;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>The next time you get the error it will show info along the bottom of the error which will look something like this for example:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>  name<span class="token operator">:</span> &#39;DiscordAPIError&#39;<span class="token punctuation">,</span>
  message<span class="token operator">:</span> &#39;Invalid Form Body\nmessage_id<span class="token operator">:</span> Value <span class="token string">&quot;[object Object]&quot;</span> is not snowflake.&#39;<span class="token punctuation">,</span>
  path<span class="token operator">:</span> &#39;/api/v7/channels/<span class="token number">638200642359525387</span>/messages/<span class="token punctuation">[</span>object%20Object<span class="token punctuation">]</span>&#39;<span class="token punctuation">,</span>
  code<span class="token operator">:</span> <span class="token number">50035</span><span class="token punctuation">,</span>
  method<span class="token operator">:</span> &#39;GET&#39;
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>All of this information can help you track down what caused the error and how to fix it. In this section, we will run through what each property means.</p><h3 id="message" tabindex="-1"><a class="header-anchor" href="/djsgc/popular-topics/errors.html#message" aria-hidden="true">#</a> Message</h3><p>The most important part of the error is the message. It tells you what went wrong, which can help you track down where it originates. You can find a full list of messages <a href="https://discord.com/developers/docs/topics/opcodes-and-status-codes#json" target="_blank" rel="noopener noreferrer">here<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> in the Discord API Docs.</p><h3 id="path" tabindex="-1"><a class="header-anchor" href="/djsgc/popular-topics/errors.html#path" aria-hidden="true">#</a> Path</h3><p>Another helpful piece of information is the path, which tells you what API endpoint the error occurred on. We cannot possibly cover all endpoints, but they are usually very descriptive.</p><p>In the above example, the path tells you that the action was executed in the <code>/channels/</code> scope. The number you see next is the channel&#39;s ID. Next, you can spot the <code>message/</code> scope. The number is again the object&#39;s ID. Combined with the method <code>GET</code> you can conclude, that the bot tried to fetch the message with the id <code>[object Object]</code> from the channel with the ID <code>638200642359525387</code>.</p><p>As the error message tells you <code>[object Object ]</code> is not a valid ID, so you now know where to look for an error! Find out where you pass an object as an ID when trying to fetch a message and fix your code in that location.</p><h3 id="code" tabindex="-1"><a class="header-anchor" href="/djsgc/popular-topics/errors.html#code" aria-hidden="true">#</a> Code</h3><p>The code is another partial representation of the message, in this case, <code>Invalid Form Body</code>. You can find a full list of codes <a href="https://discord.com/developers/docs/topics/opcodes-and-status-codes#json-json-error-codes" target="_blank" rel="noopener noreferrer">here<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><p>The code is also handy if you want only to handle a specific error. Say you&#39;re trying to delete a message which may or may not be there, and wanted to ignore unknown message errors. This can be done by checking the code, either manually or using discord.js constants.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>message<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token comment">// Only log the error if it is not an Unknown Message error</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>code <span class="token operator">!==</span> <span class="token number">10008</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;Failed to delete the message:&#39;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Or using Constants:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>message<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>code <span class="token operator">!==</span> Discord<span class="token punctuation">.</span>Constants<span class="token punctuation">.</span>APIErrors<span class="token punctuation">.</span><span class="token constant">UNKNOWN_MESSAGE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;Failed to delete the message:&#39;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>You can find a list of constants <a href="https://github.com/discordjs/discord.js/blob/stable/src/util/Constants.js#L552" target="_blank" rel="noopener noreferrer">here<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><h3 id="method" tabindex="-1"><a class="header-anchor" href="/djsgc/popular-topics/errors.html#method" aria-hidden="true">#</a> Method</h3><p>The final piece of information can tell you a lot about what you tried to do to the path. There are a set of predefined keywords that describe our actions on the path.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>GET    - Used to retrieve a piece of data
POST   - Used to send a piece of data
PATCH  - Used to modify a piece of data
PUT    - Used to replace a piece of data completely
DELETE - Used to delete a piece of data completely
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>In this particular example, you can see you are trying to access a piece of data, specifically, a message.</p><h2 id="common-discord-js-and-api-errors" tabindex="-1"><a class="header-anchor" href="/djsgc/popular-topics/errors.html#common-discord-js-and-api-errors" aria-hidden="true">#</a> Common discord.js and API errors</h2><h3 id="an-invalid-token-was-provided" tabindex="-1"><a class="header-anchor" href="/djsgc/popular-topics/errors.html#an-invalid-token-was-provided" aria-hidden="true">#</a> An invalid token was provided.</h3><p>This is a prevalent error; it originates from a wrong token being passed into <code>client.login()</code>. The most common causes of this error are:</p><ul><li>Not importing the config or env file correctly</li><li>Copying the client secret instead of the bot token (the token is alphanumerical and three parts delimited by a period while the client secret is significantly smaller and one part only)</li><li>Simply showing the token and copying that, instead of clicking regenerate and copying that.</li></ul><div class="custom-container warning"><p class="custom-container-title">WARNING</p><p>Before the release of version 12, there used to be an issue where the token was not prefixed correctly, which resulted in valid tokens being marked as invalid. If you have verified that all of the above is not the case, make sure you have updated discord.js to the current stable version.</p></div><h3 id="request-to-use-token-but-token-was-unavailable-to-the-client" tabindex="-1"><a class="header-anchor" href="/djsgc/popular-topics/errors.html#request-to-use-token-but-token-was-unavailable-to-the-client" aria-hidden="true">#</a> Request to use token, but token was unavailable to the client.</h3><p>Another common error–this error originates from the client attempting to execute an action that requires the token but the token not being available. This is most commonly caused by destroying the client and then trying to perform an action.</p><p>This error is also caused by attempting to use a client that has not logged in. Both of the examples below will throw errors.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> Client<span class="token punctuation">,</span> Intents <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;discord.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Should not be here!</span>
<span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Client</span><span class="token punctuation">(</span><span class="token punctuation">{</span> intents<span class="token operator">:</span> <span class="token punctuation">[</span>Intents<span class="token punctuation">.</span><span class="token constant">FLAGS</span><span class="token punctuation">.</span><span class="token constant">GUILDS</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token parameter">interaction</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> id <span class="token operator">=</span> interaction<span class="token punctuation">.</span>options<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&#39;id&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// Should be `interaction.client` instead!</span>
	client<span class="token punctuation">.</span>users<span class="token punctuation">.</span><span class="token function">fetch</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">user</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		interaction<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Your requested user: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token punctuation">.</span>tag<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> Client<span class="token punctuation">,</span> Intents <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;discord.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Client</span><span class="token punctuation">(</span><span class="token punctuation">{</span> intents<span class="token operator">:</span> <span class="token punctuation">[</span>Intents<span class="token punctuation">.</span><span class="token constant">FLAGS</span><span class="token punctuation">.</span><span class="token constant">GUILDS</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

client<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;interactionCreate&#39;</span><span class="token punctuation">,</span> someHandlerFunction<span class="token punctuation">)</span><span class="token punctuation">;</span>

client<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token string">&#39;your-token-goes-here&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// client will not be logged in yet!</span>
client<span class="token punctuation">.</span>users<span class="token punctuation">.</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;myId&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>someInitFunction<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="messageembed-field-names-may-not-be-empty" tabindex="-1"><a class="header-anchor" href="/djsgc/popular-topics/errors.html#messageembed-field-names-may-not-be-empty" aria-hidden="true">#</a> MessageEmbed field names may not be empty.</h3><p>This error originates from calling <code>MessageEmbed.addFields()</code> with a field object&#39;s <code>name</code> property as an empty string. If you would like the title to be empty for a reason, you should use a zero width space, which can be input as <code>\u200b</code>.</p><h3 id="messageembed-field-values-may-not-be-empty" tabindex="-1"><a class="header-anchor" href="/djsgc/popular-topics/errors.html#messageembed-field-values-may-not-be-empty" aria-hidden="true">#</a> MessageEmbed field values may not be empty.</h3><p>In conjunction with the previous error, this error results from calling <code>MessageEmbed.addFields()</code> with a field object&#39;s <code>value</code> property as an empty string. You can use a zero-width space if you would like this blank.</p><h3 id="the-messages-must-be-an-array-collection-or-number" tabindex="-1"><a class="header-anchor" href="/djsgc/popular-topics/errors.html#the-messages-must-be-an-array-collection-or-number" aria-hidden="true">#</a> The messages must be an Array, Collection, or number.</h3><p>This error originates from an invalid call to <code>bulkDelete()</code>. Make sure you are inputting a valid Array or Collection of messages or a valid number.</p><h3 id="members-didn-t-arrive-in-time" tabindex="-1"><a class="header-anchor" href="/djsgc/popular-topics/errors.html#members-didn-t-arrive-in-time" aria-hidden="true">#</a> Members didn&#39;t arrive in time.</h3><p>Another common error–this error originates from the client requesting members from the API through the WebSocket and the member chunks not arriving in time and triggering the timeout. The most common cause of this error is a bad connection; however, it can also be caused by fetching many members, upwards of 50 thousand. To fix this, run the bot on a location with better internet, such as a VPS. If this does not work for you, you will have to manually change the hardcoded member fetching timeout in the source code.</p><h3 id="maxlistenersexceededwarning-possible-eventemitter-memory-leak-detected" tabindex="-1"><a class="header-anchor" href="/djsgc/popular-topics/errors.html#maxlistenersexceededwarning-possible-eventemitter-memory-leak-detected" aria-hidden="true">#</a> MaxListenersExceededWarning: Possible EventEmitter memory leak detected...</h3><p>This error is caused by spawning a large number of event listeners, usually for the client. The most common cause of this is nesting your event listeners instead of separating them. The way to fix this error is to make sure you do not nest your listeners; it is <strong>not</strong> to use <code>emitter.setMaxListeners()</code> as the error suggests.</p><p>You can debug these messages in different ways:</p><ul><li>Through the <a href="https://nodejs.org/api/cli.html#cli_trace_warnings" target="_blank" rel="noopener noreferrer">CLI<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>: <code>node --trace-warnings index.js</code></li><li>Through the <a href="https://nodejs.org/api/process.html#process_event_warning" target="_blank" rel="noopener noreferrer"><code>process#warning</code> event<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>: <code>process.on(&#39;warning&#39;, console.warn);</code></li></ul><h3 id="cannot-send-messages-to-this-user" tabindex="-1"><a class="header-anchor" href="/djsgc/popular-topics/errors.html#cannot-send-messages-to-this-user" aria-hidden="true">#</a> Cannot send messages to this user.</h3><p>This error throws when the bot attempts to send a DM message to a user but cannot do so. A variety of reasons causes this:</p><ul><li>The bot and the user do not share a guild (often, people attempt to dm the user after kicking or banning them).</li><li>The bot tries to DM another bot.</li><li>The user has blocked the bot.</li><li>The user has disabled dms in the privacy settings.</li></ul><p>In the case of the last two reasons, the error is not preventable, as the Discord API does not provide a way to check if you can send a user a dm until you attempt to send one. The best way to handle this error is to add a <code>.catch()</code> where you try to dm the user and either ignore the rejected Promise or do what you want because of it.</p><h2 id="common-miscellaneous-errors" tabindex="-1"><a class="header-anchor" href="/djsgc/popular-topics/errors.html#common-miscellaneous-errors" aria-hidden="true">#</a> Common miscellaneous errors</h2><h3 id="code-enoent-syscall-spawn-git" tabindex="-1"><a class="header-anchor" href="/djsgc/popular-topics/errors.html#code-enoent-syscall-spawn-git" aria-hidden="true">#</a> code ENOENT... syscall spawn git.</h3><p>This error is commonly thrown by your system due to it not finding <code>git</code>. You need to install <code>git</code> or update your path if <code>git</code> is already installed. Here are the download links for it:</p><ul><li>Ubuntu/Debian: <code>sudo apt-get install git</code></li><li>Windows: <a href="https://git-scm.com/download/win" target="_blank" rel="noopener noreferrer">git-scm<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></li></ul><h3 id="code-elifecycle" tabindex="-1"><a class="header-anchor" href="/djsgc/popular-topics/errors.html#code-elifecycle" aria-hidden="true">#</a> code ELIFECYCLE</h3><p>This error is commonly thrown by your system in response to the process unexpectedly closing. Cleaning the npm cache and deleting node_modules can usually fix it. The instructions for doing that are as such:</p><ul><li>Clean npm cache with <code>npm cache clean --force</code></li><li>delete <code>node_modules</code></li><li>delete <code>package-lock.json</code> (make sure you have a <code>package.json</code>!)</li><li>run <code>npm install</code> to reinstall packages from <code>package.json</code></li></ul><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="nav-link external meta-item-label" href="https://github.com/discordjs/guide/edit/main/guide/popular-topics/errors.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--]--> Edit this page <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><span class="meta-item-info">8/10/2021, 11:39:31 PM</span></div><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"> ← <a href="/djsgc/popular-topics/webhooks.html" class="nav-link" aria-label="Webhooks"><!--[--><!--]--> Webhooks <!--[--><!--]--></a></span><span class="next"><a href="/djsgc/popular-topics/audit-logs.html" class="nav-link" aria-label="Working with Audit Logs"><!--[--><!--]--> Working with Audit Logs <!--[--><!--]--></a> → </span></p></nav><!--[--><!--]--></main></div></div><!----><!--]--></div>
	<script type="module" src="../assets/app.554c1b80.js" defer></script>
</body>
</html>
